<?php require_once 'php/db.php'?>
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <link href="https://fonts.googleapis.com/css?family=Roboto:400,500,700&display=swap" rel="stylesheet">
    <link type="stylesheet" href=""/>
    <link rel="stylesheet" href="css/reset.css" type="text/css" media="all">
    <link rel="stylesheet" href="css/adminHomestyle.css" type="text/css" media="all">
    <script src="js/adminHomeTransitions.js" type="text/javascript"></script>
    <script>
        let a1 = document.getElementById('a1');
        a1.onclick = transitionToAirlines();
    </script>
    <title>Admin page</title>
</head>
<body>
    <div id="container">
        <aside>
            <nav>
                <ul class="list-nav">
                   <li><a id="a1" href="#">Airlines</a></li>
                   <li><a onclick="transitionToCities()" href="#">Cities</a></li>
                   <li><a onclick="transitionToClients()" href="#">Clients</a></li>
                   <li><a onclick="transitionToFlights()" href="#">Flight</a></li>
                   <li><a onclick="transitionToPlanes()" href="#">Plane</a></li>
                   <li><a onclick="transitionToSalesLog()" href="#">Sales log</a></li>
                   <li><a onclick="transitionToService()" href="#">Service class</a></li>
                   <li><a href="index.html">Exit</a></li> 
                </ul>
            </nav>    
        </aside>
        <article id="welcome-block">
            <h1 id="ave">Welcome!</h1>
            <span id="prompt">This is administration page. If you want to leave click here.</span>
            <a href="index.html">
                <input type="button" class="btn btn-primary" id="button" value="Homepage" />
            </a>
        </article>
        <article id="airlines-block">
            <h2>Table: Airlines</h2>
            <h3 class="h3-fix">Insert</h3>
            <form name="add_c" action="php/insertAirlines.php" method="post" class="form-insert">
                <div class="input-container">
                    <ul class="input-list">
                        <li>
                            <input type="text" name="Name" placeholder="Введіть назву" class="input-control" required/>
                        </li>
                        <li>
                            <input type="text" name="Owner" placeholder="Власник" class="input-control" required/>
                        </li>
                        <li>
                            <input type="text" name="Adress" placeholder="Адреса компанії" class="input-control" required/>
                        </li>
                    </ul>                    
                    <button type="submit" name="add" class="btn">Вставити</button>
                </div>
            </form>
            <h3 class="h3-fix">Change/Delete</h3>
            <?php
                $result = $pdo->query("select * from airlines");
                echo '<table>';
                while($row = $result->fetch(PDO::FETCH_LAZY))
                {
                    echo "<tr>
                    <th>Назва компанії</th>
                    <th>Власник</th>
                    <th>Адреса</th>
                    <th></th>
                    <th></th>
                    </tr>
                    <tr>
                    <td>{$row['Name']}</td>
                    <td>{$row['Owner']}</td>
                    <td>{$row['Adress']}</td>
                    <td>"
                        ?>
                        <form action='deleteAirlines.php' method='post'>
                        <input type="hidden" name="id" value="<? echo $row['ID'];?>">
                            <input type='submit' name='del' value='Видалити' class='btn-search'/>
                        </form>
                        <?
                        echo "
                    </td>
                    <td>"
                    ?>
                        <form action='changeAirlines.php' method='post'>
                            <input type="hidden" name="id" value="<? echo $row['ID'];?>">
                            <input type='submit' name='chg' value='Змінити' class='btn-search'/>
                        </form>
                    <?
                        echo "
                    </td>
                    </tr>";
                }
                echo "</table>";
            ?>
        </article>
        <article id="cities-block">
            <h2>Table: Cities</h2>
            <h3 class="h3-fix">Insert</h3>
            <form name="add_c" action="php/insertCities.php" method="post" class="form-insert">
                <div class="input-container">
                    <ul class="input-list">
                        <li>
                            <input type="text" name="Name" placeholder="Назва міста" class="input-control" required/>
                        </li>
                        <li>
                            <input type="text" name="Country" placeholder="Назва країни" class="input-control" required/>
                        </li>
                        <li>
                            <input type="text" name="Airport" placeholder="Назва аеропорту" class="input-control" required/>
                        </li>
                    </ul>                    
                    <button type="submit" name="add" class="btn">Вставити</button>
                </div>
            </form>
            <h3 class="h3-fix">Change/Delete</h3>
            <?php
                $result = $pdo->query("select * from cites");
                echo '<table>';
                while($row = $result->fetch(PDO::FETCH_LAZY))
                {
                    echo "<tr>
                    <th>Назва міста</th>
                    <th>Назва аеропорту</th>
                    <th>Країна</th>
                    <th></th>
                    <th></th>
                    </tr>
                    <tr>
                    <td>{$row['City_name']}</td>
                    <td>{$row['Airport_name']}</td>
                    <td>{$row['Country_name']}</td>
                    <td>"
                        ?>
                        <form action='deleteCities.php' method='post'>
                        <input type="hidden" name="id" value="<? echo $row['ID'];?>">
                            <input type='submit' name='del' value='Видалити' class='btn-search'/>
                        </form>
                        <?
                        echo "
                    </td>
                    <td>"
                    ?>
                        <form action='changeCities.php' method='post'>
                            <input type="hidden" name="id" value="<? echo $row['ID'];?>">
                            <input type='submit' name='chg' value='Змінити' class='btn-search'/>
                        </form>
                    <?
                        echo "
                    </td>
                    </tr>";
                }
                echo "</table>";
            ?>
        </article>
        <article id="clients-block">
            <h2>Table: Clients</h2>
            <h3 class="h3-fix">Change/Delete</h3>
            <?php
                $result = $pdo->query("select * from clients");
                echo '<table>';
                while($row = $result->fetch(PDO::FETCH_LAZY))
                {
                    echo "<tr>
                    <th>ПІБ</th>
                    <th>Дата народження</th>
                    <th>Номер телефону</th>
                    <th>E-mail</th>
                    <th>Номер паспорту</th>
                    <th></th>
                    <th></th>
                    </tr>
                    <tr>
                    <td>{$row['Full name']}</td>
                    <td>{$row['Date of Birth']}</td>
                    <td>{$row['Phone number']}</td>
                    <td>{$row['E-mail']}</td>
                    <td>{$row['Passport number']}</td>
                    <td>"
                    ?>
                        <form action='deleteClients.php' method='post'>
                        <input type="hidden" name="id" value="<? echo $row['ID'];?>">
                             <input type='submit' name='del' value='Видалити' class='btn-search'/>
                        </form>
                    <?
                        echo "
                    </td>
                    <td>"
                    ?>
                        <form action='changeClients.php' method='post'>
                            <input type="hidden" name="id" value="<? echo $row['ID'];?>">
                            <input type='submit' name='chg' value='Змінити' class='btn-search'/>
                        </form>
                    <?
                        echo "
                    </td>
                    </tr>";
                }
                echo "</table>";
            ?>
        </article>
        <article id="flights-block">
            <h2>Table: Flight</h2><!--для блока flights включати overflow: vivsible в контейнері-->
            <h3 class="h3-fix">Insert</h3>
            <form name="add_c" action="php/insertFlights.php" method="post" class="form-insert">
                <div class="input-container">
                    <ul class="input-list extra-list">
                        <li>
                            <input type="text" name="FlightNumber" placeholder="Номер польоту" class="input-control extra-control" required/>
                        </li>
                        <li>
                            <input type="text" name="CityOfDeparture" placeholder="Місто відльоту" class="input-control extra-control" required/>
                         </li>
                        <li>
                            <input type="text" name="ArrivalCity" placeholder="Місто прильоту" class="input-control extra-control" required/>
                        </li>
                        <li>
                            <input type="datetime-local" name="DateOfDeparture" placeholder="Дата відльоту" class="input-control extra-control" required/>
                        </li>
                        <li>
                            <input type="datetime-local" name="DateOfArrival" placeholder="Дата прильоту" class="input-control extra-control" required/>
                        </li>
                        <li>
                            <input type="text" name="IdAirline" placeholder="Авіакомпанія" class="input-control extra-control" required/>
                        </li>
                        <li>
                            <input type="text" name="IdPlane" placeholder="Літак" class="input-control extra-control" required/>
                        </li>
                        <li>
                            <input type="text" name="IdServiceClass" placeholder="Клас обслуговування" class="input-control extra-control" required/>
                        </li>
                        <li>
                            <input type="text" name="FullPrice" placeholder="Остаточна ціна" class="input-control extra-control" required/>
                        </li>    
                    </ul>                    
                    <button type="submit" name="add" class="btn">Вставити</button>
                </div>
            </form>
            <h3 class="h3-fix">Change/Delete</h3>
            <?php
                $result = $pdo->query("select * from flight");
                echo '<table id="flights-table">';
                while($row = $result->fetch(PDO::FETCH_LAZY))
                {
                    echo "<tr>
                    <th>Номер польоту</th>
                    <th>Місто відльоту</th>
                    <th>Місто прильоту</th>
                    <th>Дата відльоту</th>
                    <th>Дата прильоту</th>
                    <th>Авіакомпанія</th>
                    <th>Літак</th>
                    <th>Клас обслуговування</th>
                    <th>Ціна</th>
                    <th></th>
                    <th></th>
                    </tr>
                    <tr>
                    <td><input type="text" class="table-input"></td>
                    <td><input type="text" class="table-input"></td>
                    <td><input type="text" class="table-input"></td>
                    <td><input type="datetime-local" class="table-input"></td>
                    <td><input type="datetime-local" class="table-input"></td>
                    <td><input type="text" class="table-input"></td>
                    <td><input type="text" class="table-input"></td>
                    <td><input type="text" class="table-input"></td>
                    <td><input type="text" class="table-input"></td>
                    <td></td>
                    <td></td>
                    </tr>
                    <tr>
                    <td>{$row['Flight number']}</td>
                    <td>{$row['City Of departure']}</td>
                    <td>{$row['Arrival city']}</td>
                    <td>{$row['Date of departure']}</td>
                    <td>{$row['Date of arrival']}</td>
                    <td>{$row['ID_Airline']}</td>
                    <td>{$row['ID_Plane']}</td>
                    <td>{$row['ID_Service class']}</td>
                    <td>{$row['Full price']}</td>
                    <td>"
                        ?>
                        <form action='deleteFlights.php' method='post'>
                        <input type="hidden" name="id" value="<? echo $row['ID'];?>">
                            <input type='submit' name='del' value='Видалити' class='btn-search'/>
                        </form>
                        <?
                        echo "
                    </td>
                    <td>"
                    ?>
                        <form action='changeFlights.php' method='post'>
                            <input type="hidden" name="id" value="<? echo $row['ID'];?>">
                            <input type='submit' name='chg' value='Змінити' class='btn-search'/>
                        </form>
                    <?
                        echo "
                    </td>
                    </tr>";
                }
                echo "</table>";
            ?>
        </article>
        <article id="planes-block">
            <h2>Table: Plane</h2><!--для Plane те ж саме, що й для Flight-->
            <h3 class="h3-fix">Insert</h3>
            <form name="add_c" action="php/insertPlanes.php" method="post" class="form-insert">
                <div class="input-container">
                    <ul class="input-list extra-list">
                        <li>
                            <input type="text" name="Model" placeholder="Назва та модель" class="input-control extra-control" required/>
                        </li>
                        <li>
                            <input type="date" name="Edition" placeholder="Випуск" class="input-control extra-control" required/>
                        </li>
                        <li>
                            <input type="text" name="E-quantity" placeholder="К-сть економ-класу" class="input-control extra-control" required/>
                        </li>
                        <li>
                            <input type="text" name="B-quantity" placeholder="К-сть бізнес-класу" class="input-control extra-control" required/>
                        </li>
                        <li>
                            <input type="text" name="P-quantity" placeholder="К-сть преміум-класу" class="input-control extra-control" required/>
                        </li>                
                        <li>
                            <input type="text" name="AirLine" placeholder="Авіакомпанія" class="input-control extra-control" required/>
                        </li>
                    </ul>                    
                    <button type="submit" name="add" class="btn">Вставити</button>
                </div>
            </form>
            <h3 class="h3-fix">Change/Delete</h3>
            <?php
                $result = $pdo->query("select * from plane");
                echo '<table id="planes-table">';
                while($row = $result->fetch(PDO::FETCH_LAZY))
                {
                    echo "<tr>
                    <th>Модель</th>
                    <th>Випуск</th>
                    <th>Економ-місця</th>
                    <th>Бізнес-місця</th>
                    <th>Преміум-місця</th>
                    <th>Авіакомпанія</th>
                    <th></th>
                    <th></th>
                    </tr>
                    <tr>
                    <td>{$row['Brand & Model']}</td>
                    <td>{$row['Edition']}</td>
                    <td>{$row['Quantity Econom']}</td>
                    <td>{$row['Quantity Business']}</td>
                    <td>{$row['Quantity Premium']}</td>
                    <td>{$row['ID_Airline']}</td>
                    <td>"
                        ?>
                        <form action='deletePlanes.php' method='post'>
                        <input type="hidden" name="id" value="<? echo $row['ID'];?>">
                            <input type='submit' name='del' value='Видалити' class='btn-search'/>
                        </form>
                        <?
                        echo "
                    </td>
                    <td>"
                    ?>
                        <form action='changePlanes.php' method='post'>
                            <input type="hidden" name="id" value="<? echo $row['ID'];?>">
                            <input type='submit' name='chg' value='Змінити' class='btn-search'/>
                        </form>
                    <?
                        echo "
                    </td>
                    </tr>";
                }
                echo "</table>";
            ?>
        </article>
        <article id="sales-block">
            <h2>Table: Sales log</h2>
            <h3 class="h3-fix">Insert</h3>
            <form name="add_c" action="php/insertSales.php" method="post" class="form-insert">
                <div class="input-container">
                    <ul class="input-list">
                        <li>
                            <input type="text" name="Client" placeholder="Клієнт" class="input-control" required/>
                        </li>
                        
                        <li>
                            <input type="text" name="Flight" placeholder="Рейс" class="input-control" required/>
                        </li>
                    </ul>                    
                    <button type="submit" name="add" class="btn">Вставити</button>
                </div>
            </form>
            <h3 class="h3-fix">Change/Delete</h3>
            <?php
                $result = $pdo->query("select * from sales log");
                echo '<table>';
                while($row = $result->fetch(PDO::FETCH_LAZY))
                {
                    echo "<tr>
                    <th>Клієнт</th>
                    <th>Рейс</th>
                    <th></th>
                    <th></th>
                    </tr>
                    <tr>
                    <td><input type="text" class=""></td>
                    <td><input type="text" class=""></td>
                    <td></td>
                    <td></td>
                    </tr>
                    <tr>
                    <td>{$row['ID_Client']}</td>
                    <td>{$row['ID_Flight']}</td>
                    <td>"
                        ?>
                        <form action='deleteLog.php' method='post'>
                        <input type="hidden" name="id" value="<? echo $row['ID'];?>">
                            <input type='submit' name='del' value='Видалити' class='btn-search'/>
                        </form>
                        <?
                        echo "
                    </td>
                    <td>"
                    ?>
                        <form action='changeLog.php' method='post'>
                            <input type="hidden" name="id" value="<? echo $row['ID'];?>">
                            <input type='submit' name='chg' value='Змінити' class='btn-search'/>
                        </form>
                    <?
                        echo "
                    </td>
                    </tr>";
                }
                echo "</table>";
            ?>   
        </article>
        <article id="service-block">
            <h2>Table: Service class</h2>
            <h3 class="h3-fix">Insert</h3>
            <form name="add_c" action="php/insertService.php" method="post" class="form-insert">
                <div class="input-container">
                    <ul class="input-list">
                        <li>
                            <input type="text" name="Class" placeholder="Клас" class="input-control extra-control" required/>
                        </li>
                    </ul>                    
                    <button type="submit" name="add" class="btn">Вставити</button>
                </div>
            </form>
            <h3 class="h3-fix">Change/Delete</h3>
            <?php
                $result = $pdo->query("select * from service class");
                echo '<table>';
                while($row = $result->fetch(PDO::FETCH_LAZY))
                {
                    echo "<tr>
                    <th>Клас обслуговування</th>
                    </tr>
                    <tr>
                    <td>{$row['Service class name']}</td>
                    </tr>";
                }
                echo "</table>";
            ?>
        </article>
    </div>    
</body>
</html>